# 外部設計
## ページ構成
- トップページ
- リンクページ
- 管理者情報ページ
- 部員情報
  - 一覧ページ
  - 個別ページ
- 試合情報
  - 年度選択ページ
  - 年度別一覧ページ
  - 試合結果ページ
- 歴代記録
  - 男子ページ
  - 女子ページ
- 特設ページ
  - 部活紹介ページ
  - 新入生歓迎ページ
  - 関カレ特設ページ

## 試合結果の種別
- トラック競技
  - 100m,200m,400m,800m,1500m,5000m,10000m
  - 100mH,110mH,400mH,3000mSC
  - 3000mW,5000mW,10000mW
- フィールド競技
  - 砲丸投,円盤投,ハンマー投,やり投
  - 走幅跳,三段跳,走高跳,棒高跳
- ロード競技
  - 10km,20km,100km,ハーフマラソン,フルマラソン
  - 10kmW,20kmW,50kmW
- リレー競技
  - 4×100mR,4×400mR,スウェーデンR
- 駅伝競技
- 混成競技
  - 五種競技,七種競技,八種競技,十種競技

## 記録の形式
- 〇〇"〇〇(±〇.〇)
  - 100m,200m
  - 100mH,110mH
- 〇〇:〇〇'〇〇"〇〇（時間:分'秒"）
  - 400m,800m,1500m,5000m,10000m
  - 400mH,3000mSC
  - 3000mW,5000mW,10000mW
  - 4×100mR,4×400mR,スウェーデンR
- 〇〇m〇〇
  - 砲丸投,円盤投,ハンマー投,やり投
  - 走高跳,棒高跳
- 〇〇m〇〇(±〇.〇)
  - 走幅跳,三段跳
- 〇〇:〇〇:〇〇（時間:分:秒）
  - 10km,20km,100km,ハーフマラソン,フルマラソン
  - 10kmW,20kmW,50kmW
  - 駅伝
- 〇〇〇〇点
  - 五種競技,七種競技,八種競技,十種競技

## リレー競技の場合
1. `event`テーブルの`relay_flag`が`true`であることを確認する。なっていなければ`true`にする。
2. `result`テーブルに`member`以外を埋めたデータを作成する。
3. 作成されたデータの`id`をコピーしておく。
4. `relay`テーブルにコピーした`id`でチーム情報のデータを作成する。
5. `relay_member`テーブルにもコピーした`id`で競技を行った選手のデータを作成する。埋める項目は`result`,`order`,`member`のみで良い。

## 駅伝競技の場合
1. `event`テーブルの`relay_flag`が`true`であることを確認する。なっていなければ`true`にする。
2. `result`テーブルに`member`以外を埋めたデータを作成する。
3. 作成されたデータの`id`をコピーしておく。
4. `relay`テーブルにコピーした`id`でチーム情報のデータを作成する。
5. `relay_member`テーブルにもコピーした`id`で競技を行った選手のデータを作成する。
  - 選手が和歌山大学の場合  
  `belong`は和歌山大のままで、`member`を選択する。
  - 選手が和歌山大学でない場合  
  `belong`をその選手の所属に変更し、`member`は選択せず、`name`にその選手の名前を記入する。

## 混成競技の場合
1. `event`テーブルの`conbined_flag`が`true`であることを確認する。なっていなければ`true`にする。
2. `result`テーブルに後で編集すれば良いので`result`には途中経過を入れてデータを作成する。
3. さらに`result`テーブルに既に終了した種目の結果のデータを作成する。
4. `combined`テーブルに混成競技の結果と個別のデータを結び付けるデータを作成する。
  - `result`には、3.で作成されたデータの`id`を入れる。
  - `score`には、その結果の混成競技おける点数を入れる。
  - `parent`には、2.で作成されたデータの`id`を入れる。
